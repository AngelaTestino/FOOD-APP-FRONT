import React, { useEffect } from "react";
import "./DetailRecipe.css";
import { useParams } from "react-router-dom";
import { useSelector, useDispatch } from "react-redux";
import { recipeID } from "../redux/actions";
import plate from "../plate.png";
import AOS from "aos";
import "aos/dist/aos.css";

export default function DetailRecipe() {
  let { id } = useParams();
  let recipe = useSelector((state) => state.recipe);

  const dispatch = useDispatch();

  useEffect(() => {
    window.scrollTo(0, 0);
    recipeID(id)(dispatch);
  }, [dispatch, id]);
  useEffect(() => {
    AOS.init({ duration: 2000 });
    AOS.refresh();
  }, []);
  return (
    <>
      <div className="containerDetail">
        <div className="overlapping">
          <div
            className="left"
            style={{ backgroundImage: `url(${recipe.image})` }}
          >
            <div className="overlayDetail"></div>
          </div>
          <div className="right"></div>
        </div>
        <div className="divTitleDetail">
          <span>
            <h2 className="titleQuestion">
              Do you feel like eating{" "}
              <h2 className="foodTitleDetail">{`${recipe.title}`} ?</h2>
            </h2>
            <div className="divScroll">
              <div className="icon-scroll"></div>
            </div>
            <div className="animationArrow">
              <span className="arrowSpan"></span>
              <span className="arrowSpan"></span>
              <span className="arrowSpan"></span>
            </div>
          </span>
        </div>
      </div>

      <div class="wave-animation">
        <div class="wave"></div>
      </div>
      <div className="preparation">
        <div className="column1">
          <div data-aos="fade-left">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path d="M193.69,152.84a16,16,0,0,1,29.64,2.56l36.4,121.36,30-59.92a16,16,0,0,1,28.62,0L345.89,272h96.76A213.08,213.08,0,0,0,464,176.65C463.37,114.54,413.54,64,352.92,64c-48.09,0-80,29.54-96.92,51-16.88-21.49-48.83-51-96.92-51C98.46,64,48.63,114.54,48,176.65A211.13,211.13,0,0,0,56.93,240h93.18Z" />
              <path d="M321.69,295.16,304,259.78l-33.69,67.38A16,16,0,0,1,256,336q-.67,0-1.38-.06a16,16,0,0,1-14-11.34l-36.4-121.36-30,59.92A16,16,0,0,1,160,272H69.35q14,29.29,37.27,57.66c18.77,22.88,52.8,59.46,131.39,112.81a31.84,31.84,0,0,0,36,0c78.59-53.35,112.62-89.93,131.39-112.81a316.79,316.79,0,0,0,19-25.66H336A16,16,0,0,1,321.69,295.16Z" />
              <path d="M464,272H442.65a260.11,260.11,0,0,1-18.25,32H464a16,16,0,0,0,0-32Z" />
              <path d="M48,240a16,16,0,0,0,0,32H69.35a225.22,225.22,0,0,1-12.42-32Z" />
            </svg>
            <span>
              <h3>Diets</h3>
              {recipe.diets && (
                <p>
                  This recipe includes the following type(s) of diet(s):
                  <br />
                  {recipe.diets.join(", ")}
                </p>
              )}
            </span>
          </div>
          <div data-aos="fade-left">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 64 64"
              aria-hidden="true"
              role="img"
              class="iconify iconify--emojione-monotone"
              preserveAspectRatio="xMidYMid meet"
            >
              <path
                d="M59.595 35.879c3.831-7.298-3.956-12.359-14.137-14.841c.766-1.741.988-4.02-1.172-6.196C41.516 12.057 43.357 8 43.357 8s-5.814 5.363-2.143 9.061c1.354 1.363 2.059 2.56 2.396 3.561a64.873 64.873 0 0 0-8.519-1.174c.855-2.324.938-5.243-1.756-8.038C29.647 7.579 32.103 2 32.103 2s-7.753 7.374-2.858 12.458c1.787 1.854 2.728 3.486 3.184 4.854c-3.034-.091-5.954.042-8.548.405c.309-1.495.051-3.214-1.598-4.874C19.513 12.058 21.355 8 21.355 8s-5.815 5.363-2.143 9.061c1.15 1.158 1.824 2.192 2.211 3.093c-.438.096-.863.2-1.272.313C7.509 19.284 1.995 21.896 4.514 27.02C.118 31.416 1.77 36.433 7.271 40.272C10.141 52.093 10.88 62 32.496 62c19.288 0 21.953-7.89 24.342-17.988c7.168-1.427 5.641-4.863 2.757-8.133m-1.787-1.181c-2.401 5.12-12.821 8.974-25.312 8.974c-12.49 0-22.91-3.854-25.312-8.974c-.051-.152-.1-.31-.149-.464c1.144-2.902 4.862-5.42 10.084-7.106c-1.227 1.186-1.482 2.957 1.747 3.578c.924.178 3.461-.438 2.352-3.586c-.155-.44-.408-.735-.719-.913c3.588-.821 7.661-1.294 11.997-1.294c.486 0 .963.017 1.442.028c-2.502.888-4.543 3.624.566 4.431c1.128.178 4.225-.438 2.871-3.586a1.746 1.746 0 0 0-.55-.71c4.787.352 9.124 1.274 12.63 2.603c-3.083-.172-6.503 1.728-1.026 4.403c1.175.574 4.745 1.101 4.254-2.375a1.785 1.785 0 0 0-.26-.706c2.803 1.477 4.758 3.268 5.533 5.233l-.148.464"
                fill="currentColor"
              />
              <path
                d="M25.837 36.841c3.233 0 5.389-2.923 7.078-4.067c2.36-1.6 8.294-2.224 3.068-2.35c-4.957-.119-11.077 3.905-15.167 3.628c-6.772-.46.164 2.789 5.021 2.789"
                fill="currentColor"
              />
              <path
                d="M32.823 42.813c1.142.22 4.281-.542 2.908-4.435c-1.551-4.405-10.94 2.889-2.908 4.435"
                fill="currentColor"
              />
              <path
                d="M15.047 33.178c-1.091-1.54-2.673-3.493-3.328-2.476c-.895 1.391-1.177 4.19-.527 4.314c5.096.977 4.739-.591 3.855-1.838"
                fill="currentColor"
              />
              <path
                d="M44.672 33.802c.919-1.138-.916-3.877-2.094-3.398c-1.844.75-2.907.242-3.717 1.38c-1.897 2.665 4.562 3.563 5.811 2.018"
                fill="currentColor"
              />
              <path
                d="M44.098 37.063c-1.322-.583-1.01 1.37-2.963-.197c-1.398-1.122-4.406 1.708-2.422 3.63c2.208 2.139 2.796.106 3.724.277c1.886.347 5.129-2.18 1.661-3.71"
                fill="currentColor"
              />
              <path
                d="M22.116 37.731c-.689-.678-1.613.14-2.135 1.138c-.517-.254-.938-.313-.938-.313c-.395-1.126-1.57-1.898-1.57-1.898s.107 1.171.262 1.742c-1.298-.461-1.338-2.781-1.338-2.781s-.871.521-.792 1.406c-1.429-1.153-2.646-.614-2.646-.614s1.813 1.02 2.063 1.708c-1.018.079-1.612.431-1.958 1.25c.001.007 2.012-.957 3.5-.261c-.587.48-.295 1.679-.295 1.679c1.385-1.468 2.491-1.311 3.376-1.048c-.107.449-.1.859.09 1.108c1.535 2.018 6.882 1.564 8.318.072c1.739-1.805-3.093-.389-5.937-3.188"
                fill="currentColor"
              />
              <path
                d="M25.893 30.13c-.455.914-.458 1.604.068 2.322c.007.002.212-2.218 1.573-3.138c.111.75 1.289 1.114 1.289 1.114c-.942-3.336 1.808-3.51 1.795-4.707c-1.458.123-2.286 1.183-2.286 1.183c-1.169-.239-2.436.372-2.436.372s1.061.509 1.63.67c-1.062.877-3.074-.28-3.074-.28s0 1.016.8 1.401c-1.723.635-1.885 1.955-1.885 1.955s1.806-1.031 2.526-.892"
                fill="currentColor"
              />
              <path
                d="M51.444 34.686c.414-.786-.19-1.603-.19-1.603s-.929 2.127-2.304 2.054c.362-.468.912-1.508.912-1.508s-1.382.263-2.18 1.15c0 0-1.296-.359-2.54.409c.702.97 3.016-.527 4.243 2.715c0 0 .73-.993.373-1.662c1.642-.071 3.128 1.591 3.133 1.585c-.006-.89-.418-1.442-1.329-1.906c.496-.539 2.562-.784 2.562-.784s-.916-.965-2.68-.45"
                fill="currentColor"
              />
            </svg>
            <span>
              <h3>Summary</h3>

              <p
                className="html"
                dangerouslySetInnerHTML={{ __html: recipe.summary }}
              />
            </span>
          </div>
        </div>
        <div className="column2">
          <div data-aos="fade-up" className="column2TitleRecipe">
            <span>
              <h2>{recipe.title}</h2>
            </span>
          </div>
          <div data-aos="fade-up" className="divPlate">
            <img src={plate} alt="plate"></img>
            <div>
              <img src={recipe.image} alt="recipe"></img>
            </div>
          </div>
        </div>
        <div className="column3">
          <div data-aos="fade-right">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              version="1.1"
              id="Capa_1"
              x="0px"
              y="0px"
              viewBox="0 0 1125.628 1125.628"
              xmlSpace="preserve"
            >
              <g>
                <path d="M562.812,0.002C252.476,0.002,0,252.479,0,562.814s252.476,562.812,562.812,562.812   c310.34,0,562.817-252.476,562.817-562.812S873.152,0.002,562.812,0.002z M309.189,739.263l-68.974-101h-17.735v101h-70v-357h70   v203h15.889l57.901-93h77.963l-79.808,111.736l92.036,135.264H309.189z M468.184,672.88c7.299,13.589,20.325,20.382,38.317,20.382   c11.995,0,21.792-3.329,29.023-10.286c7.226-6.952,11.026-14.712,11.026-27.712h61.131l0.69,1.237   c0.612,25.224-8.88,46.258-28.489,63.246c-19.605,16.997-43.942,25.452-73.007,25.452c-37.218,0-65.962-11.781-86.11-35.309   c-20.144-23.529-30.283-53.763-30.283-90.671v-6.925c0-36.753,10.102-66.968,30.169-90.652   c20.071-23.68,48.745-35.524,85.958-35.524c30.76,0,55.57,8.766,74.412,26.297c18.833,17.531,27.954,41.73,27.342,70.334   l-0.453,2.516H546.55c0-14-3.54-24.775-10.611-33.312c-7.075-8.533-16.837-13.365-29.298-13.365   c-17.837,0-31.158,6.628-38.457,20.446c-7.308,13.818-11.703,31.349-11.703,53.151v6.911   C456.481,641.362,460.876,659.29,468.184,672.88z M793.142,739.263c-2.462-4-4.582-11.157-6.345-17.465   c-1.772-6.304-3.038-12.499-3.805-19.113c-6.925,12.15-16.033,22.354-27.338,30.348c-11.301,7.998-24.798,12.061-40.484,12.061   c-26.141,0-46.285-6.691-60.432-20.148c-14.151-13.457-21.222-31.78-21.222-54.998c0-24.456,9.414-43.221,28.256-56.683   c18.833-13.452,46.327-20.003,82.467-20.003h39.242v-20.18c0-11.995-3.974-21.3-10.282-27.914   c-6.303-6.609-16.019-9.917-28.32-9.917c-10.922,0-19.545,2.65-25.465,7.957c-5.92,5.303-8.982,12.648-8.982,22.026l-65.101-0.228   l-0.259-1.384c-1.073-21.066,8.063-39.251,27.44-54.553c19.377-15.302,44.822-22.953,76.349-22.953   c29.832,0,54.075,7.578,72.684,22.72c18.605,15.151,27.938,36.716,27.938,64.703v103.113c0,11.689,0.854,22.156,2.622,32.461   c1.768,10.3,4.55,21.149,8.396,30.149H793.142z M902.481,739.263v-357h70v357H902.481z" />
                <path d="M711.712,640.846c-7.382,7.153-11.072,16.229-11.072,26.379c0,8.304,2.768,15.211,8.304,20.285   c5.536,5.075,13.069,7.717,22.606,7.717c11.84,0,23.195-2.865,32.422-8.707c9.227-5.847,14.509-12.558,19.509-20.246v-37.012   h-39.242C729.933,629.263,719.093,633.698,711.712,640.846z" />
              </g>
            </svg>
            <span>
              <h3>Healthscore</h3>
              <p>
                the Health Score calculates how much of the recommendations are
                fulfilled in relation to the caloric content of a meal, weighted
                according to the severity of their outcomes.
                <br /> This recipe has
                <b> {recipe.healthScore}</b> points.
              </p>
            </span>
          </div>
          <div data-aos="fade-right">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              version="1.1"
              viewBox="0 0 292.138 292.138"
              enable-background="new 0 0 292.138 292.138"
            >
              <g>
                <path d="m36.967,129.963l18.78-10.938 53.737-31.298c12.317-31.314 14.15-59.266 3.773-63.674-44.225-18.785-91.541-7.021-105.683,26.274-11.17,26.296 1.706,58.148 29.393,79.636z" />
                <path d="m289.446,34.775c-5.508-9.457-17.64-12.658-27.096-7.15l-259.478,151.127c-1.571,0.915-2.619,2.515-2.832,4.32-0.213,1.805 0.435,3.607 1.751,4.862 7.026,6.699 17.718,9.546 30.674,9.546 44.944,0 117.197-34.235 158.739-60.636 16.681-10.602 20.948-20.35 10.463-43.902l77.726-29.682c5.434-2.075 9.681-6.432 11.617-11.917 1.934-5.484 1.363-11.542-1.564-16.568z" />
                <path d="m230.692,149.668c-9.908-6.544-34.101,12.622-54.037,42.808-19.935,30.186-28.064,59.961-18.156,66.505 40.094,26.479 88.758,23.474 108.693-6.712s3.594-76.122-36.5-102.601z" />
              </g>
            </svg>
            <span>
              <h3>Instructions</h3>
              {recipe.steps ? (
                <p dangerouslySetInnerHTML={{ __html: recipe.steps }} />
              ) : (
                <p>There are not instructions for this recipe yet</p>
              )}
            </span>
          </div>
        </div>
      </div>
    </>
  );
}
